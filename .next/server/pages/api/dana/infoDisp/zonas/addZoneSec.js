"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/dana/infoDisp/zonas/addZoneSec";
exports.ids = ["pages/api/dana/infoDisp/zonas/addZoneSec"];
exports.modules = {

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("moment");

/***/ }),

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "(api)/./funcionesCrud/index.js":
/*!********************************!*\
  !*** ./funcionesCrud/index.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DeleteData\": () => (/* binding */ DeleteData),\n/* harmony export */   \"DropData\": () => (/* binding */ DropData),\n/* harmony export */   \"FindData\": () => (/* binding */ FindData),\n/* harmony export */   \"FindDispZona\": () => (/* binding */ FindDispZona),\n/* harmony export */   \"FindReg\": () => (/* binding */ FindReg),\n/* harmony export */   \"FindZona\": () => (/* binding */ FindZona),\n/* harmony export */   \"InsertData\": () => (/* binding */ InsertData),\n/* harmony export */   \"InsertUpdate\": () => (/* binding */ InsertUpdate),\n/* harmony export */   \"UpdateReg\": () => (/* binding */ UpdateReg),\n/* harmony export */   \"UpgrateData\": () => (/* binding */ UpgrateData),\n/* harmony export */   \"UpgrateZone\": () => (/* binding */ UpgrateZone),\n/* harmony export */   \"horaActual\": () => (/* binding */ horaActual)\n/* harmony export */ });\nvar MongoClient = (__webpack_require__(/*! mongodb */ \"mongodb\").MongoClient);\nvar moment = __webpack_require__(/*! moment */ \"moment\");\nvar url = \"mongodb://dana:root@74.208.16.217:28018\";\n// router.use(cors())\n// Funcion que Insera el nuevo dato de TIEMPO_REAL\nfunction InsertUpdate(body, collection) {\n    console.log(\"Insertando documento NUEVO\");\n    MongoClient.connect(url, function(err, db) {\n        if (err) throw err;\n        var dbo = db.db(\"dana\");\n        dbo.collection(collection).insertOne(body, function(err, res) {\n            if (err) throw err;\n            console.log(\"---------------DOCUMUENTO INSERTADO---------------\");\n            db.close();\n            // RESPUESTA AL SERVIDOR ESP32\n            return true;\n        });\n    });\n}\nfunction UpdateReg(body, collection) {\n    MongoClient.connect(url, function(err, db) {\n        if (err) throw err;\n        var dbo = db.db(\"dana\");\n        var myquery = {\n            can: body.can,\n            pin: body.pin\n        };\n        var newvalues = {\n            $set: body\n        };\n        dbo.collection(collection).updateOne(myquery, newvalues, function(err, res_db) {\n            if (err) throw err;\n            // console.log(res_db);\n            db.close();\n            if (res_db.modifiedCount == 0 && res_db.upsertedCount == 0 && res_db.matchedCount == 0) {\n                console.log(\"!undefined!    !undefined!    !undefined!    !undefined!    !undefined!\");\n                let result = InsertUpdate(body, collection);\n                return true;\n            } else {\n                console.log(\"---------------DOCUMUENTO ACTUALIZADO---------------\");\n                return true;\n            }\n        // RESPUESTA AL SERVIDOR ESP32\n        });\n    });\n}\n//\nasync function FindReg(can, pin, collection) {\n    let query = {\n        \"can\": can,\n        \"pin\": pin\n    };\n    if (can == 0) {\n        query = \"\";\n    }\n    const db = await MongoClient.connect(url);\n    const dbo = db.db(\"dana\");\n    const MyCollection = dbo.collection(collection);\n    const result = await MyCollection.find(query).toArray();\n    db.close();\n    if (result[0] == undefined) {\n    // console.log(\"!!!!!!! DATO NO ENCONTRADO !!!!!!!\")\n    } else {\n    // console.log(\"!!!!!!! DATO ENCONTRADO !!!!!!!\")\n    }\n    return result;\n}\n//\nfunction horaActual() {\n    let hoy = moment().utcOffset(\"-6:00\");\n    let dia = hoy.date().toString();\n    let mes = (hoy.month() + 1).toString();\n    let ano = hoy.year().toString();\n    let hora = hoy.hours().toString();\n    let minuto = hoy.minutes().toString();\n    let segundo = hoy.seconds().toString();\n    if (mes.length == 1) {\n        mes = \"0\" + mes;\n    }\n    if (dia.length == 1) {\n        dia = \"0\" + dia;\n    }\n    if (minuto.length == 1) {\n        minuto = \"0\" + minuto;\n    }\n    if (hora.length == 1) {\n        hora = \"0\" + hora;\n    }\n    if (segundo.length == 1) {\n        segundo = \"0\" + segundo;\n    }\n    let horaAct = ano + \"-\" + mes + \"-\" + dia + \" \" + hora + \":\" + minuto + \":\" + segundo;\n    return horaAct;\n}\nasync function FindDispZona(zona, collection) {\n    let query = {\n        \"zona\": {\n            $in: [\n                zona\n            ]\n        }\n    };\n    const db = await MongoClient.connect(url);\n    const dbo = db.db(\"dana\");\n    const MyCollection = dbo.collection(collection);\n    const result = await MyCollection.find(query).toArray();\n    db.close();\n    return result;\n}\nasync function DropData(body, query, proyect, collection) {\n    if (body == \"\" || query == \"\" || proyect == \"\" || collection == \"\") {\n        return false;\n    } else {\n        // let query = { \"can\": body.can, \"pin\": body.pin }\n        const db = await MongoClient.connect(url);\n        const dbo = db.db(proyect);\n        const MyCollection = dbo.collection(collection);\n        const result = await MyCollection.deleteOne(query);\n        db.close();\n        return result;\n    }\n}\nasync function UpgrateZone(body, query, proyect, collection) {\n    // console.log(body);\n    if (body == \"\" || query == \"\" || proyect == \"\" || collection == \"\") {\n        return false;\n    } else {\n        // let query = { \"zona\": body.zona }\n        let newvalues = {\n            $set: body\n        };\n        const db = await MongoClient.connect(url);\n        const dbo = db.db(proyect);\n        const MyCollection = dbo.collection(collection);\n        let result = await MyCollection.updateOne(query, newvalues);\n        if (result.modifiedCount == 0 && result.upsertedCount == 0 && result.matchedCount == 0) {\n            result = await MyCollection.insertOne(body);\n        } else {\n        //   \n        }\n        db.close();\n        return result;\n    }\n}\nasync function FindZona(body, query, proyect, collection) {\n    if (proyect == \"\" || collection == \"\") {\n        return false;\n    } else {\n        let query1 = {\n            \"zona\": body.zona\n        };\n        let newvalues = {\n            $set: body\n        };\n        const db = await MongoClient.connect(url);\n        const dbo = db.db(proyect);\n        const MyCollection = dbo.collection(collection);\n        let result = await MyCollection.find().toArray();\n        db.close();\n        return result;\n    }\n}\n///////////////////////////////////////////////////////////////////////\n// FIND \nasync function FindData(query, proyect, collection) {\n    if (proyect == \"\" || collection == \"\") {\n        return false;\n    } else {\n        const db = await MongoClient.connect(url);\n        const dbo = db.db(proyect);\n        const MyCollection = dbo.collection(collection);\n        // console.log(query, proyect, collection);\n        let result = await MyCollection.find(query).toArray();\n        db.close();\n        return result;\n    }\n}\n// INSERT\nasync function InsertData(body, proyect, collection) {\n    if (proyect == \"\" || collection == \"\") {\n        return false;\n    } else {\n        let newvalues = {\n            $set: body\n        };\n        const db = await MongoClient.connect(url);\n        const dbo = db.db(proyect);\n        const MyCollection = dbo.collection(collection);\n        let result = await MyCollection.insertOne(body);\n        db.close();\n        return result;\n    }\n}\n// UPDATE\nasync function UpgrateData(body, query, proyect, collection) {\n    if (body == \"\" || query == \"\" || proyect == \"\" || collection == \"\") {\n        return false;\n    } else {\n        // let query = { \"zona\": body.zona }\n        let newvalues = {\n            $set: body\n        };\n        const db = await MongoClient.connect(url);\n        const dbo = db.db(proyect);\n        const MyCollection = dbo.collection(collection);\n        let result = await MyCollection.updateOne(query, newvalues);\n        if (result.modifiedCount == 0 && result.upsertedCount == 0 && result.matchedCount == 0) {\n            result = await MyCollection.insertOne(body);\n        } else {\n        //   \n        }\n        db.close();\n        return result;\n    }\n}\n// DELETE\nasync function DeleteData(query, proyect, collection) {\n    if (query == \"\" || proyect == \"\" || collection == \"\") {\n        return false;\n    } else {\n        // let query = { \"can\": body.can, \"pin\": body.pin }\n        const db = await MongoClient.connect(url);\n        const dbo = db.db(proyect);\n        const MyCollection = dbo.collection(collection);\n        const result = await MyCollection.deleteOne(query);\n        db.close();\n        return result;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU0sQ0FBQ0QsWUFBWSxJQUFJLENBQUMsRUFBRztZQUNyRkMsTUFBTSxHQUFHLE1BQU1HLFlBQVksQ0FBQ2pCLFNBQVMsQ0FBQ1IsSUFBSSxDQUFDLENBQUM7UUFDaEQsT0FBTztRQUNILEtBQUs7UUFDVCxDQUFDO1FBQ0RNLEVBQUUsQ0FBQ0ksS0FBSyxFQUFFLENBQUM7UUFDWCxPQUFPWSxNQUFNO0lBQ2pCLENBQUM7QUFDTCxDQUFDO0FBRUQsU0FBUztBQUNGLGVBQWVvQyxVQUFVLENBQUNsQyxLQUFLLEVBQUUyQixPQUFPLEVBQUdsRCxVQUFVLEVBQUU7SUFDMUQsSUFBS3VCLEtBQUssSUFBSSxFQUFFLElBQUkyQixPQUFPLElBQUksRUFBRSxJQUFJbEQsVUFBVSxJQUFJLEVBQUUsRUFBRTtRQUNuRCxPQUFPLEtBQUs7SUFDaEIsT0FBTztRQUNILG1EQUFtRDtRQUNuRCxNQUFNSyxFQUFFLEdBQUcsTUFBTVgsV0FBVyxDQUFDUyxPQUFPLENBQUNOLEdBQUcsQ0FBQztRQUN6QyxNQUFNUyxHQUFHLEdBQUdELEVBQUUsQ0FBQ0EsRUFBRSxDQUFFNkMsT0FBTyxDQUFFO1FBQzVCLE1BQU0xQixZQUFZLEdBQUdsQixHQUFHLENBQUNOLFVBQVUsQ0FBQ0EsVUFBVSxDQUFDO1FBQy9DLE1BQU1xQixNQUFNLEdBQUcsTUFBTUcsWUFBWSxDQUFDMkIsU0FBUyxDQUFDNUIsS0FBSyxDQUFDO1FBQ2xEbEIsRUFBRSxDQUFDSSxLQUFLLEVBQUUsQ0FBQztRQUNYLE9BQU9ZLE1BQU07SUFDakIsQ0FBQztBQUNMLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYW5hbGl0ZXYwLy4vZnVuY2lvbmVzQ3J1ZC9pbmRleC5qcz8xN2U5Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBNb25nb0NsaWVudCA9IHJlcXVpcmUoJ21vbmdvZGInKS5Nb25nb0NsaWVudDtcclxudmFyIG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xyXG5cclxuXHJcbnZhciB1cmwgPSBcIm1vbmdvZGI6Ly9kYW5hOnJvb3RANzQuMjA4LjE2LjIxNzoyODAxOFwiXHJcblxyXG4vLyByb3V0ZXIudXNlKGNvcnMoKSlcclxuLy8gRnVuY2lvbiBxdWUgSW5zZXJhIGVsIG51ZXZvIGRhdG8gZGUgVElFTVBPX1JFQUxcclxuZXhwb3J0IGZ1bmN0aW9uIEluc2VydFVwZGF0ZShib2R5LCBjb2xsZWN0aW9uKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkluc2VydGFuZG8gZG9jdW1lbnRvIE5VRVZPXCIpO1xyXG4gICAgTW9uZ29DbGllbnQuY29ubmVjdCh1cmwsIGZ1bmN0aW9uIChlcnIsIGRiKSB7XHJcbiAgICAgICAgaWYgKGVycikgdGhyb3cgZXJyO1xyXG4gICAgICAgIHZhciBkYm8gPSBkYi5kYihcImRhbmFcIik7XHJcbiAgICAgICAgZGJvLmNvbGxlY3Rpb24oY29sbGVjdGlvbikuaW5zZXJ0T25lKGJvZHksIGZ1bmN0aW9uIChlcnIsIHJlcykge1xyXG4gICAgICAgICAgICBpZiAoZXJyKSB0aHJvdyBlcnI7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLS0tRE9DVU1VRU5UTyBJTlNFUlRBRE8tLS0tLS0tLS0tLS0tLS1cIik7XHJcbiAgICAgICAgICAgIGRiLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIC8vIFJFU1BVRVNUQSBBTCBTRVJWSURPUiBFU1AzMlxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBVcGRhdGVSZWcoYm9keSwgY29sbGVjdGlvbikge1xyXG4gICAgTW9uZ29DbGllbnQuY29ubmVjdCh1cmwsIGZ1bmN0aW9uIChlcnIsIGRiKSB7XHJcbiAgICAgICAgaWYgKGVycikgdGhyb3cgZXJyO1xyXG4gICAgICAgIHZhciBkYm8gPSBkYi5kYihcImRhbmFcIik7XHJcbiAgICAgICAgdmFyIG15cXVlcnkgPSB7IGNhbjogYm9keS5jYW4sIHBpbjogYm9keS5waW4gfTtcclxuICAgICAgICB2YXIgbmV3dmFsdWVzID0geyAkc2V0OiBib2R5IH07XHJcbiAgICAgICAgZGJvLmNvbGxlY3Rpb24oY29sbGVjdGlvbikudXBkYXRlT25lKG15cXVlcnksIG5ld3ZhbHVlcywgZnVuY3Rpb24gKGVyciwgcmVzX2RiKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnIpIHRocm93IGVycjtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzX2RiKTtcclxuICAgICAgICAgICAgZGIuY2xvc2UoKTtcclxuICAgICAgICAgICAgaWYgKHJlc19kYi5tb2RpZmllZENvdW50ID09IDAgJiYgcmVzX2RiLnVwc2VydGVkQ291bnQgPT0gMCAmJiByZXNfZGIubWF0Y2hlZENvdW50ID09IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiIXVuZGVmaW5lZCEgICAgIXVuZGVmaW5lZCEgICAgIXVuZGVmaW5lZCEgICAgIXVuZGVmaW5lZCEgICAgIXVuZGVmaW5lZCFcIilcclxuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBJbnNlcnRVcGRhdGUoYm9keSwgY29sbGVjdGlvbilcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIi0tLS0tLS0tLS0tLS0tLURPQ1VNVUVOVE8gQUNUVUFMSVpBRE8tLS0tLS0tLS0tLS0tLS1cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFJFU1BVRVNUQSBBTCBTRVJWSURPUiBFU1AzMlxyXG5cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gRmluZFJlZyhjYW4sIHBpbiwgY29sbGVjdGlvbikge1xyXG4gICAgbGV0IHF1ZXJ5ID0geyBcImNhblwiOiBjYW4sIFwicGluXCI6IHBpbiB9XHJcbiAgICBpZiAoY2FuID09IDApIHtcclxuICAgICAgICBxdWVyeSA9IFwiXCJcclxuICAgIH1cclxuICAgIGNvbnN0IGRiID0gYXdhaXQgTW9uZ29DbGllbnQuY29ubmVjdCh1cmwpO1xyXG4gICAgY29uc3QgZGJvID0gZGIuZGIoXCJkYW5hXCIpO1xyXG4gICAgY29uc3QgTXlDb2xsZWN0aW9uID0gZGJvLmNvbGxlY3Rpb24oY29sbGVjdGlvbik7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBNeUNvbGxlY3Rpb24uZmluZChxdWVyeSkudG9BcnJheSgpO1xyXG4gICAgZGIuY2xvc2UoKTtcclxuXHJcbiAgICBpZiAocmVzdWx0WzBdID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiISEhISEhISBEQVRPIE5PIEVOQ09OVFJBRE8gISEhISEhIVwiKVxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCIhISEhISEhIERBVE8gRU5DT05UUkFETyAhISEhISEhXCIpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0XHJcbn1cclxuXHJcbi8vXHJcbmV4cG9ydCBmdW5jdGlvbiBob3JhQWN0dWFsKCkge1xyXG4gICAgbGV0IGhveSA9IG1vbWVudCgpLnV0Y09mZnNldChcIi02OjAwXCIpO1xyXG4gICAgbGV0IGRpYSA9IGhveS5kYXRlKCkudG9TdHJpbmcoKTtcclxuICAgIGxldCBtZXMgPSAoaG95Lm1vbnRoKCkgKyAxKS50b1N0cmluZygpO1xyXG4gICAgbGV0IGFubyA9IGhveS55ZWFyKCkudG9TdHJpbmcoKTtcclxuICAgIGxldCBob3JhID0gaG95LmhvdXJzKCkudG9TdHJpbmcoKTtcclxuICAgIGxldCBtaW51dG8gPSBob3kubWludXRlcygpLnRvU3RyaW5nKCk7XHJcbiAgICBsZXQgc2VndW5kbyA9IGhveS5zZWNvbmRzKCkudG9TdHJpbmcoKTtcclxuICAgIGlmIChtZXMubGVuZ3RoID09IDEpIHtcclxuICAgICAgICBtZXMgPSBcIjBcIiArIG1lc1xyXG4gICAgfVxyXG4gICAgaWYgKGRpYS5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgIGRpYSA9IFwiMFwiICsgZGlhXHJcbiAgICB9XHJcbiAgICBpZiAobWludXRvLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgbWludXRvID0gXCIwXCIgKyBtaW51dG9cclxuICAgIH1cclxuICAgIGlmIChob3JhLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgaG9yYSA9IFwiMFwiICsgaG9yYVxyXG4gICAgfVxyXG4gICAgaWYgKHNlZ3VuZG8ubGVuZ3RoID09IDEpIHtcclxuICAgICAgICBzZWd1bmRvID0gXCIwXCIgKyBzZWd1bmRvXHJcbiAgICB9XHJcbiAgICBsZXQgaG9yYUFjdCA9IGFubyArIFwiLVwiICsgbWVzICsgXCItXCIgKyBkaWEgKyBcIiBcIiArIGhvcmEgKyBcIjpcIiArIG1pbnV0byArIFwiOlwiICsgc2VndW5kb1xyXG4gICAgcmV0dXJuIGhvcmFBY3RcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEZpbmREaXNwWm9uYSh6b25hLCBjb2xsZWN0aW9uKSB7XHJcbiAgICBsZXQgcXVlcnkgPSB7IFwiem9uYVwiOiB7ICRpbjogW3pvbmFdIH0gfVxyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBNb25nb0NsaWVudC5jb25uZWN0KHVybCk7XHJcbiAgICBjb25zdCBkYm8gPSBkYi5kYihcImRhbmFcIik7XHJcbiAgICBjb25zdCBNeUNvbGxlY3Rpb24gPSBkYm8uY29sbGVjdGlvbihjb2xsZWN0aW9uKTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IE15Q29sbGVjdGlvbi5maW5kKHF1ZXJ5KS50b0FycmF5KCk7XHJcbiAgICBkYi5jbG9zZSgpO1xyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG59XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERyb3BEYXRhKGJvZHksIHF1ZXJ5LCBwcm95ZWN0ICwgY29sbGVjdGlvbikge1xyXG4gICAgaWYgKGJvZHkgPT0gXCJcIiB8fCBxdWVyeSA9PSBcIlwiIHx8IHByb3llY3QgPT0gXCJcIiB8fCBjb2xsZWN0aW9uID09IFwiXCIpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gbGV0IHF1ZXJ5ID0geyBcImNhblwiOiBib2R5LmNhbiwgXCJwaW5cIjogYm9keS5waW4gfVxyXG4gICAgICAgIGNvbnN0IGRiID0gYXdhaXQgTW9uZ29DbGllbnQuY29ubmVjdCh1cmwpO1xyXG4gICAgICAgIGNvbnN0IGRibyA9IGRiLmRiKCBwcm95ZWN0ICk7XHJcbiAgICAgICAgY29uc3QgTXlDb2xsZWN0aW9uID0gZGJvLmNvbGxlY3Rpb24oY29sbGVjdGlvbik7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgTXlDb2xsZWN0aW9uLmRlbGV0ZU9uZShxdWVyeSk7XHJcbiAgICAgICAgZGIuY2xvc2UoKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBVcGdyYXRlWm9uZShib2R5LCBxdWVyeSwgcHJveWVjdCwgY29sbGVjdGlvbikge1xyXG4gICAgLy8gY29uc29sZS5sb2coYm9keSk7XHJcbiAgICBpZiAoYm9keSA9PSBcIlwiIHx8IHF1ZXJ5ID09IFwiXCIgfHwgcHJveWVjdCA9PSBcIlwiIHx8IGNvbGxlY3Rpb24gPT0gXCJcIikge1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBsZXQgcXVlcnkgPSB7IFwiem9uYVwiOiBib2R5LnpvbmEgfVxyXG4gICAgICAgIGxldCBuZXd2YWx1ZXMgPSB7ICRzZXQ6IGJvZHkgfTtcclxuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IE1vbmdvQ2xpZW50LmNvbm5lY3QodXJsKTtcclxuICAgICAgICBjb25zdCBkYm8gPSBkYi5kYihwcm95ZWN0KTtcclxuICAgICAgICBjb25zdCBNeUNvbGxlY3Rpb24gPSBkYm8uY29sbGVjdGlvbihjb2xsZWN0aW9uKTtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgTXlDb2xsZWN0aW9uLnVwZGF0ZU9uZShxdWVyeSwgbmV3dmFsdWVzKTtcclxuICAgICAgICBpZiAocmVzdWx0Lm1vZGlmaWVkQ291bnQgPT0gMCAmJiByZXN1bHQudXBzZXJ0ZWRDb3VudCA9PSAwICYmIHJlc3VsdC5tYXRjaGVkQ291bnQgPT0gMCApIHsgICAgICAgIFxyXG4gICAgICAgICAgICByZXN1bHQgPSBhd2FpdCBNeUNvbGxlY3Rpb24uaW5zZXJ0T25lKGJvZHkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRiLmNsb3NlKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gRmluZFpvbmEoYm9keSwgcXVlcnksIHByb3llY3QsIGNvbGxlY3Rpb24pIHtcclxuICAgIGlmICggIHByb3llY3QgPT0gXCJcIiB8fCBjb2xsZWN0aW9uID09IFwiXCIpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IHF1ZXJ5ID0geyBcInpvbmFcIjogYm9keS56b25hIH1cclxuICAgICAgICBsZXQgbmV3dmFsdWVzID0geyAkc2V0OiBib2R5IH07XHJcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBNb25nb0NsaWVudC5jb25uZWN0KHVybCk7XHJcbiAgICAgICAgY29uc3QgZGJvID0gZGIuZGIocHJveWVjdCk7XHJcbiAgICAgICAgY29uc3QgTXlDb2xsZWN0aW9uID0gZGJvLmNvbGxlY3Rpb24oY29sbGVjdGlvbik7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IE15Q29sbGVjdGlvbi5maW5kKCkudG9BcnJheSgpOyAgICAgICAgXHJcbiAgICAgICAgZGIuY2xvc2UoKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICB9XHJcbn0gXHJcblxyXG5cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4vLyBGSU5EIFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gRmluZERhdGEoIHF1ZXJ5LCBwcm95ZWN0LCBjb2xsZWN0aW9uKSB7XHJcbiAgICBcclxuICAgIGlmICggIHByb3llY3QgPT0gXCJcIiB8fCBjb2xsZWN0aW9uID09IFwiXCIpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBNb25nb0NsaWVudC5jb25uZWN0KHVybCk7XHJcbiAgICAgICAgY29uc3QgZGJvID0gZGIuZGIocHJveWVjdCk7XHJcbiAgICAgICAgY29uc3QgTXlDb2xsZWN0aW9uID0gZGJvLmNvbGxlY3Rpb24oY29sbGVjdGlvbik7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocXVlcnksIHByb3llY3QsIGNvbGxlY3Rpb24pO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBNeUNvbGxlY3Rpb24uZmluZChxdWVyeSkudG9BcnJheSgpOyAgICAgICAgXHJcbiAgICAgICAgZGIuY2xvc2UoKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICB9XHJcbn1cclxuLy8gSU5TRVJUXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBJbnNlcnREYXRhKGJvZHksIHByb3llY3QsIGNvbGxlY3Rpb24pIHtcclxuICAgIGlmICggIHByb3llY3QgPT0gXCJcIiB8fCBjb2xsZWN0aW9uID09IFwiXCIpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IG5ld3ZhbHVlcyA9IHsgJHNldDogYm9keSB9O1xyXG4gICAgICAgIGNvbnN0IGRiID0gYXdhaXQgTW9uZ29DbGllbnQuY29ubmVjdCh1cmwpO1xyXG4gICAgICAgIGNvbnN0IGRibyA9IGRiLmRiKHByb3llY3QpO1xyXG4gICAgICAgIGNvbnN0IE15Q29sbGVjdGlvbiA9IGRiby5jb2xsZWN0aW9uKGNvbGxlY3Rpb24pO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBNeUNvbGxlY3Rpb24uaW5zZXJ0T25lKGJvZHkpOyAgICAgICAgXHJcbiAgICAgICAgZGIuY2xvc2UoKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFVQREFURVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gVXBncmF0ZURhdGEoYm9keSwgcXVlcnksIHByb3llY3QsIGNvbGxlY3Rpb24pIHtcclxuICAgIGlmIChib2R5ID09IFwiXCIgfHwgcXVlcnkgPT0gXCJcIiB8fCBwcm95ZWN0ID09IFwiXCIgfHwgY29sbGVjdGlvbiA9PSBcIlwiKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGxldCBxdWVyeSA9IHsgXCJ6b25hXCI6IGJvZHkuem9uYSB9XHJcbiAgICAgICAgbGV0IG5ld3ZhbHVlcyA9IHsgJHNldDogYm9keSB9O1xyXG4gICAgICAgIGNvbnN0IGRiID0gYXdhaXQgTW9uZ29DbGllbnQuY29ubmVjdCh1cmwpO1xyXG4gICAgICAgIGNvbnN0IGRibyA9IGRiLmRiKHByb3llY3QpO1xyXG4gICAgICAgIGNvbnN0IE15Q29sbGVjdGlvbiA9IGRiby5jb2xsZWN0aW9uKGNvbGxlY3Rpb24pO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBNeUNvbGxlY3Rpb24udXBkYXRlT25lKHF1ZXJ5LCBuZXd2YWx1ZXMpO1xyXG4gICAgICAgIGlmIChyZXN1bHQubW9kaWZpZWRDb3VudCA9PSAwICYmIHJlc3VsdC51cHNlcnRlZENvdW50ID09IDAgJiYgcmVzdWx0Lm1hdGNoZWRDb3VudCA9PSAwICkgeyAgICAgICAgXHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IE15Q29sbGVjdGlvbi5pbnNlcnRPbmUoYm9keSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gICBcclxuICAgICAgICB9XHJcbiAgICAgICAgZGIuY2xvc2UoKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIERFTEVURVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gRGVsZXRlRGF0YShxdWVyeSwgcHJveWVjdCAsIGNvbGxlY3Rpb24pIHtcclxuICAgIGlmICggcXVlcnkgPT0gXCJcIiB8fCBwcm95ZWN0ID09IFwiXCIgfHwgY29sbGVjdGlvbiA9PSBcIlwiKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGxldCBxdWVyeSA9IHsgXCJjYW5cIjogYm9keS5jYW4sIFwicGluXCI6IGJvZHkucGluIH1cclxuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IE1vbmdvQ2xpZW50LmNvbm5lY3QodXJsKTtcclxuICAgICAgICBjb25zdCBkYm8gPSBkYi5kYiggcHJveWVjdCApO1xyXG4gICAgICAgIGNvbnN0IE15Q29sbGVjdGlvbiA9IGRiby5jb2xsZWN0aW9uKGNvbGxlY3Rpb24pO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IE15Q29sbGVjdGlvbi5kZWxldGVPbmUocXVlcnkpO1xyXG4gICAgICAgIGRiLmNsb3NlKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJNb25nb0NsaWVudCIsInJlcXVpcmUiLCJtb21lbnQiLCJ1cmwiLCJJbnNlcnRVcGRhdGUiLCJib2R5IiwiY29sbGVjdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJjb25uZWN0IiwiZXJyIiwiZGIiLCJkYm8iLCJpbnNlcnRPbmUiLCJyZXMiLCJjbG9zZSIsIlVwZGF0ZVJlZyIsIm15cXVlcnkiLCJjYW4iLCJwaW4iLCJuZXd2YWx1ZXMiLCIkc2V0IiwidXBkYXRlT25lIiwicmVzX2RiIiwibW9kaWZpZWRDb3VudCIsInVwc2VydGVkQ291bnQiLCJtYXRjaGVkQ291bnQiLCJyZXN1bHQiLCJGaW5kUmVnIiwicXVlcnkiLCJNeUNvbGxlY3Rpb24iLCJmaW5kIiwidG9BcnJheSIsInVuZGVmaW5lZCIsImhvcmFBY3R1YWwiLCJob3kiLCJ1dGNPZmZzZXQiLCJkaWEiLCJkYXRlIiwidG9TdHJpbmciLCJtZXMiLCJtb250aCIsImFubyIsInllYXIiLCJob3JhIiwiaG91cnMiLCJtaW51dG8iLCJtaW51dGVzIiwic2VndW5kbyIsInNlY29uZHMiLCJsZW5ndGgiLCJob3JhQWN0IiwiRmluZERpc3Bab25hIiwiem9uYSIsIiRpbiIsIkRyb3BEYXRhIiwicHJveWVjdCIsImRlbGV0ZU9uZSIsIlVwZ3JhdGVab25lIiwiRmluZFpvbmEiLCJGaW5kRGF0YSIsIkluc2VydERhdGEiLCJVcGdyYXRlRGF0YSIsIkRlbGV0ZURhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./funcionesCrud/index.js\n");

/***/ }),

/***/ "(api)/./pages/api/dana/infoDisp/zonas/addZoneSec.js":
/*!*****************************************************!*\
  !*** ./pages/api/dana/infoDisp/zonas/addZoneSec.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AddZone)\n/* harmony export */ });\n/* harmony import */ var _funcionesCrud__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../funcionesCrud */ \"(api)/./funcionesCrud/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n\n\nasync function AddZone(req, res) {\n    console.log(\"---------------------------------\");\n    console.log(\"Llego un mensaje a AddZoneSec: \");\n    console.log(req.body);\n    const { myTokenName  } = req.cookies;\n    if (!myTokenName) {\n        return res.status(401).json({\n            error: \"Not logged in\"\n        });\n    }\n    const { username , proyect  } = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(myTokenName, \"secret\");\n    let body = req.body;\n    console.log(\"---------------------------------\");\n    console.log(\"Llego un mensaje a AddZone: \");\n    // console.log(body);\n    let query = {\n        \"zona\": body.zona,\n        \"zonaSec\": body.zonaSec\n    };\n    // let proyect = \"dana\"\n    let result = await (0,_funcionesCrud__WEBPACK_IMPORTED_MODULE_0__.UpgrateZone)(body, query, proyect, \"ZONASSEC\");\n    console.log(result);\n    res.status(200).json(result);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvZGFuYS9pbmZvRGlzcC96b25hcy9hZGRab25lU2VjLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMEQ7QUFDM0I7QUFHaEIsZUFBZUUsT0FBTyxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRTtJQUM1Q0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsbUNBQW1DLENBQUM7SUFDaERELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGlDQUFpQyxDQUFDLENBQUM7SUFDL0NELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSCxHQUFHLENBQUNJLElBQUksQ0FBQyxDQUFDO0lBRXRCLE1BQU0sRUFBRUMsV0FBVyxHQUFFLEdBQUdMLEdBQUcsQ0FBQ00sT0FBTztJQUNuQyxJQUFJLENBQUNELFdBQVcsRUFBRTtRQUNkLE9BQU9KLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBRUMsS0FBSyxFQUFFLGVBQWU7U0FBRSxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUNELE1BQU0sRUFBRUMsUUFBUSxHQUFFQyxPQUFPLEdBQUUsR0FBR2IsMERBQVUsQ0FBQ08sV0FBVyxFQUFFLFFBQVEsQ0FBQztJQUMvRCxJQUFJRCxJQUFJLEdBQUdKLEdBQUcsQ0FBQ0ksSUFBSTtJQUNuQkYsT0FBTyxDQUFDQyxHQUFHLENBQUMsbUNBQW1DLENBQUM7SUFDaERELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDhCQUE4QixDQUFDLENBQUM7SUFDNUMscUJBQXFCO0lBQ3JCLElBQUlVLEtBQUssR0FBRztRQUFFLE1BQU0sRUFBRVQsSUFBSSxDQUFDVSxJQUFJO1FBQUUsU0FBUyxFQUFFVixJQUFJLENBQUNXLE9BQU87S0FBRTtJQUMxRCx1QkFBdUI7SUFDdkIsSUFBSUMsTUFBTSxHQUFHLE1BQU1uQiwyREFBVyxDQUFDTyxJQUFJLEVBQUVTLEtBQUssRUFBRUYsT0FBTyxFQUFFLFVBQVUsQ0FBQztJQUNoRVQsT0FBTyxDQUFDQyxHQUFHLENBQUNhLE1BQU0sQ0FBQyxDQUFDO0lBQ3BCZixHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDUSxNQUFNLENBQUM7QUFDaEMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RhbmFsaXRldjAvLi9wYWdlcy9hcGkvZGFuYS9pbmZvRGlzcC96b25hcy9hZGRab25lU2VjLmpzP2Q1ZjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXBncmF0ZVpvbmUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vZnVuY2lvbmVzQ3J1ZFwiXHJcbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIEFkZFpvbmUocmVxLCByZXMpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXCIpXHJcbiAgICBjb25zb2xlLmxvZyhcIkxsZWdvIHVuIG1lbnNhamUgYSBBZGRab25lU2VjOiBcIik7XHJcbiAgICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgbXlUb2tlbk5hbWUgfSA9IHJlcS5jb29raWVzO1xyXG4gICAgaWYgKCFteVRva2VuTmFtZSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiBcIk5vdCBsb2dnZWQgaW5cIiB9KTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgdXNlcm5hbWUsIHByb3llY3QgfSA9IGp3dC52ZXJpZnkobXlUb2tlbk5hbWUsIFwic2VjcmV0XCIpO1xyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIilcclxuICAgIGNvbnNvbGUubG9nKFwiTGxlZ28gdW4gbWVuc2FqZSBhIEFkZFpvbmU6IFwiKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKGJvZHkpO1xyXG4gICAgbGV0IHF1ZXJ5ID0geyBcInpvbmFcIjogYm9keS56b25hLCBcInpvbmFTZWNcIjogYm9keS56b25hU2VjIH1cclxuICAgIC8vIGxldCBwcm95ZWN0ID0gXCJkYW5hXCJcclxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBVcGdyYXRlWm9uZShib2R5LCBxdWVyeSwgcHJveWVjdCwgXCJaT05BU1NFQ1wiKVxyXG4gICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJlc3VsdClcclxufSJdLCJuYW1lcyI6WyJVcGdyYXRlWm9uZSIsImp3dCIsIkFkZFpvbmUiLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsIm15VG9rZW5OYW1lIiwiY29va2llcyIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInVzZXJuYW1lIiwicHJveWVjdCIsInZlcmlmeSIsInF1ZXJ5Iiwiem9uYSIsInpvbmFTZWMiLCJyZXN1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/dana/infoDisp/zonas/addZoneSec.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/dana/infoDisp/zonas/addZoneSec.js"));
module.exports = __webpack_exports__;

})();